<div class="w-full h-screen flex flex-col relative">
    <div class="bg-slate-200 p-3 px-8 flex items-center justify-between gap-2 sticky top-0">
        <div class="flex gap-2 items-center">
            <app-logo></app-logo>
            <p class="text-slate-800 font-semibold">TaskMate</p>

        </div>

        <div class="flex ">
            <!-- <p class="text-sm">{{currUser?.username}}</p> -->
            <button (click)="logout()" class="bg-white p-1 px-2 text-sm rounded-md cursor-pointer">Logout</button>
        </div>
    </div>
    <div class="flex flex-col gap-5 p-8 ">
        <div class="bg-slate-800 p-3 flex flex-col rounded-md">
            <div class="flex flex-col">
                <p class="text-slate-500 text-sm">Org</p>
                <p class="text-white">{{currUser?.organization?.name}}</p>
                
            </div>

        
        </div>
        <div class="w-full flex justify-between">
            <div  class="flex flex-col w-[60vw] gap-2">
                <div *ngIf="canAddTask(2)"  class="flex justify-end">
                    <button (click)="toggleAddTask(true)" class="px-6 py-1 bg-slate-100 rounded-dm border border-slate-200 cursor-pointer">New</button>
                    <div *ngIf="isShowingAdd" (click)="toggleAddTask(false); $event.stopPropagation()" class="fixed inset-0 w-full h-screen bg-black/50 flex items-center justify-center z-[99]">
                        <div class="w-[60vw] h-[75vh]" (click)="$event.stopPropagation()">
                            <app-add-task [onAdd]="toggleAddTask.bind(this)"></app-add-task>

                        </div>
    
                    </div>
                </div>
                
                <app-list-task></app-list-task>
    
            </div>
    
            <div class="w-[25vw] h-screen border border-slate-300 rounded-md flex flex-col">
                <div class="bg-slate-800 p-2 rounded-sm">
                    <p class="text-white">Users</p>

                </div>
                <div class="flex p-2 flex-col">
                    <p class="font-semibold">{{currUser?.username}}</p>
                    <p class="text-slate-500 text-xs">{{currUser?.role?.name}}</p>
                </div>
                <app-divider></app-divider>
            </div>
    
        </div>


    </div>
</div>
